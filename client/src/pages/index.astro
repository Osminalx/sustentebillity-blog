---
import Card from '../components/Card.astro';
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

interface PostData {
    slug: string;
    data: {
        title: string;
        summary: string;
        img: string;
    };
}

const posts = (await getCollection('posts')) as PostData[];
---

<Layout title='Home'>
    <main class='min-h-screen min-w-full flex flex-col items-center justify-center'>
        <h1 class='text-3xl font-semibold text-white mb-4'>Amazona Frentirroja</h1>
        <section>
            <img class='h-auto max-w-full rounded-lg' src='' alt='' />
        </section>
        <section id='carousel'>
            {
                posts.map(post => (
                    <Card
                        key={post.slug}
                        title={post.data.title}
                        href={`/${post.slug}`}
                        body={post.data.summary}
                        img={post.data.img}
                    />
                ))
            }
        </section>
    </main>
</Layout>

<style>
    .carousel {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
    }

    .carousel > * {
        flex: 0 0 auto;
        scroll-snap-align: start;
        margin-right: 1rem;
    }
</style>